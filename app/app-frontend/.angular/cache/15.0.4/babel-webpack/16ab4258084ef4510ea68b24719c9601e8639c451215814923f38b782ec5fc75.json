{"ast":null,"code":"import { Observable } from 'rxjs';\nimport { TodoItemComponent } from './todo-item/todo-item.component';\nimport { FormGroup, Validators } from '@angular/forms';\nimport { map } from 'rxjs/operators';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/item/item.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/paginator\";\nimport * as i6 from \"@angular/flex-layout/extended\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"@angular/material/icon\";\nimport * as i11 from \"@angular/material/button\";\nimport * as i12 from \"@angular/material/table\";\nimport * as i13 from \"@angular/material/divider\";\nimport * as i14 from \"@angular/material/tooltip\";\nfunction TodoListComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"No.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r16.id);\n  }\n}\nfunction TodoListComponent_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"Description\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListComponent_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r17.description);\n  }\n}\nfunction TodoListComponent_th_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"Due Date\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListComponent_td_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r18.dueDate);\n  }\n}\nfunction TodoListComponent_th_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"Priority level\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListComponent_td_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r19.priority);\n  }\n}\nfunction TodoListComponent_th_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"Create At\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListComponent_td_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r20.dtaCreatedAt);\n  }\n}\nfunction TodoListComponent_th_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"Last update\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TodoListComponent_td_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(element_r21.dtaUpdatedAt);\n  }\n}\nfunction TodoListComponent_th_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \"Actions\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return {\n    float: \"right\"\n  };\n};\nfunction TodoListComponent_td_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 20)(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function TodoListComponent_td_46_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const element_r22 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.onDelete(element_r22.id));\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function TodoListComponent_td_46_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const element_r22 = restoredCtx.$implicit;\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.openModal(element_r22.id));\n    });\n    i0.ɵɵelementStart(5, \"mat-icon\");\n    i0.ɵɵtext(6, \"edit\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(2, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(3, _c0));\n  }\n}\nfunction TodoListComponent_tr_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 23);\n  }\n}\nfunction TodoListComponent_tr_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 24);\n  }\n}\nconst _c1 = function () {\n  return {\n    \"text-align\": \"center\"\n  };\n};\nconst _c2 = function () {\n  return [5, 10, 20];\n};\nexport class TodoListComponent {\n  constructor(service, dialog, formBuilder) {\n    this.service = service;\n    this.dialog = dialog;\n    this.formBuilder = formBuilder;\n    this.displayedColumns = ['id', 'description', 'dueDate', 'priority', 'dtaCreatedAt', 'dtaUpdatedAt', 'actions'];\n    this.dataSource = new MatTableDataSource([]);\n    this.itemForm = new FormGroup([]);\n    this.itens$ = new Observable();\n  }\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n  }\n  ngOnInit() {\n    this.service.getAll().subscribe(itens => {\n      this.dataSource = new MatTableDataSource(itens);\n    });\n    this.initializeForm();\n  }\n  initializeForm() {\n    this.itemForm = this.formBuilder.group({\n      description: [null, Validators.required],\n      priority: [null, Validators.required]\n    });\n  }\n  openModal(id) {\n    let dialogRef = this.dialog.open(TodoItemComponent, {\n      height: '400px',\n      width: '600px',\n      data: {\n        id\n      }\n    });\n    dialogRef.afterClosed().subscribe(() => {\n      this.itens$ = this.itens$.pipe(map(itens => {\n        return itens;\n      }));\n    });\n  }\n  onSearch() {\n    const vf = this.itemForm.value;\n    this.service.getAllByFilters(vf).subscribe(itens => this.dataSource = new MatTableDataSource(itens));\n  }\n  onDelete(id) {\n    this.service.delete(id).subscribe(() => this.dataSource.data.fill(this.dataSource.data.filter(i => i.id !== id)));\n  }\n}\nTodoListComponent.ɵfac = function TodoListComponent_Factory(t) {\n  return new (t || TodoListComponent)(i0.ɵɵdirectiveInject(i1.ItemService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\nTodoListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodoListComponent,\n  selectors: [[\"app-todo-list\"]],\n  viewQuery: function TodoListComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(MatPaginator, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n    }\n  },\n  decls: 50,\n  vars: 12,\n  consts: [[3, \"ngStyle\"], [\"mat-mini-fab\", \"\", \"matTooltip\", \"Add a new task\", \"color\", \"primary\", 3, \"ngStyle\", \"click\"], [3, \"formGroup\"], [\"formControlName\", \"description\", \"matNativeControl\", \"\"], [\"formControlName\", \"priority\", \"matNativeControl\", \"\", \"type\", \"number\"], [\"mat-mini-fab\", \"\", \"matTooltip\", \"Search\", \"color\", \"primary\", 3, \"ngStyle\", \"click\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"description\"], [\"matColumnDef\", \"dueDate\"], [\"matColumnDef\", \"priority\"], [\"matColumnDef\", \"dtaCreatedAt\"], [\"matColumnDef\", \"dtaUpdatedAt\"], [\"matColumnDef\", \"actions\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", \"aria-label\", \"Select page of periodic elements\", 3, \"pageSizeOptions\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"flex\", \"\", \"mat-mini-fab\", \"\", \"matTooltip\", \"Delete\", \"color\", \"accent\", 3, \"ngStyle\", \"click\"], [\"flex\", \"\", \"mat-mini-fab\", \"\", \"matTooltip\", \"Edit\", \"color\", \"basic\", 3, \"ngStyle\", \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function TodoListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-card-title\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Todo list!\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"mat-card-content\")(4, \"mat-card\")(5, \"mat-card-title\");\n      i0.ɵɵtext(6, \" Filters \");\n      i0.ɵɵelementStart(7, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function TodoListComponent_Template_button_click_7_listener() {\n        return ctx.openModal();\n      });\n      i0.ɵɵelementStart(8, \"mat-icon\");\n      i0.ɵɵtext(9, \"plus_one\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(10, \"mat-divider\");\n      i0.ɵɵelementStart(11, \"mat-card-content\")(12, \"form\", 2)(13, \"mat-form-field\")(14, \"mat-label\");\n      i0.ɵɵtext(15, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"mat-form-field\")(18, \"mat-label\");\n      i0.ɵɵtext(19, \"Priority Level\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function TodoListComponent_Template_button_click_21_listener() {\n        return ctx.onSearch();\n      });\n      i0.ɵɵelementStart(22, \"mat-icon\");\n      i0.ɵɵtext(23, \"search\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(24, \"mat-card\")(25, \"table\", 6);\n      i0.ɵɵelementContainerStart(26, 7);\n      i0.ɵɵtemplate(27, TodoListComponent_th_27_Template, 2, 0, \"th\", 8);\n      i0.ɵɵtemplate(28, TodoListComponent_td_28_Template, 2, 1, \"td\", 9);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(29, 10);\n      i0.ɵɵtemplate(30, TodoListComponent_th_30_Template, 2, 0, \"th\", 8);\n      i0.ɵɵtemplate(31, TodoListComponent_td_31_Template, 2, 1, \"td\", 9);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(32, 11);\n      i0.ɵɵtemplate(33, TodoListComponent_th_33_Template, 2, 0, \"th\", 8);\n      i0.ɵɵtemplate(34, TodoListComponent_td_34_Template, 2, 1, \"td\", 9);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(35, 12);\n      i0.ɵɵtemplate(36, TodoListComponent_th_36_Template, 2, 0, \"th\", 8);\n      i0.ɵɵtemplate(37, TodoListComponent_td_37_Template, 2, 1, \"td\", 9);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(38, 13);\n      i0.ɵɵtemplate(39, TodoListComponent_th_39_Template, 2, 0, \"th\", 8);\n      i0.ɵɵtemplate(40, TodoListComponent_td_40_Template, 2, 1, \"td\", 9);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(41, 14);\n      i0.ɵɵtemplate(42, TodoListComponent_th_42_Template, 2, 0, \"th\", 8);\n      i0.ɵɵtemplate(43, TodoListComponent_td_43_Template, 2, 1, \"td\", 9);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(44, 15);\n      i0.ɵɵtemplate(45, TodoListComponent_th_45_Template, 2, 0, \"th\", 8);\n      i0.ɵɵtemplate(46, TodoListComponent_td_46_Template, 7, 4, \"td\", 9);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(47, TodoListComponent_tr_47_Template, 1, 0, \"tr\", 16);\n      i0.ɵɵtemplate(48, TodoListComponent_tr_48_Template, 1, 0, \"tr\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(49, \"mat-paginator\", 18);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(8, _c1));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(9, _c0));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.itemForm);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(10, _c0));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n      i0.ɵɵadvance(22);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(11, _c2));\n    }\n  },\n  dependencies: [i4.NgStyle, i5.MatPaginator, i6.DefaultStyleDirective, i7.MatCard, i7.MatCardContent, i7.MatCardTitle, i8.MatInput, i9.MatFormField, i9.MatLabel, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i10.MatIcon, i11.MatMiniFabButton, i12.MatTable, i12.MatHeaderCellDef, i12.MatHeaderRowDef, i12.MatColumnDef, i12.MatCellDef, i12.MatRowDef, i12.MatHeaderCell, i12.MatCell, i12.MatHeaderRow, i12.MatRow, i13.MatDivider, i14.MatTooltip],\n  styles: [\"mat-card-title[_ngcontent-%COMP%] {\\n  padding: 12px;\\n}\\nmat-form-field[_ngcontent-%COMP%] {\\n  margin: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy90b2RvLWxpc3QvdG9kby1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0FBQ2Y7QUFDQTtFQUNFLFdBQVc7QUFDYiIsInNvdXJjZXNDb250ZW50IjpbIm1hdC1jYXJkLXRpdGxlIHtcbiAgcGFkZGluZzogMTJweDtcbn1cbm1hdC1mb3JtLWZpZWxkIHtcbiAgbWFyZ2luOiA1cHg7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["Observable","TodoItemComponent","FormGroup","Validators","map","MatPaginator","MatTableDataSource","i0","TodoListComponent","constructor","service","dialog","formBuilder","ngAfterViewInit","dataSource","paginator","ngOnInit","getAll","subscribe","itens","initializeForm","itemForm","group","description","required","priority","openModal","id","dialogRef","open","height","width","data","afterClosed","itens$","pipe","onSearch","vf","value","getAllByFilters","onDelete","delete","fill","filter","i","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["D:\\projetos\\scoot\\app\\app-frontend\\src\\app\\components\\todo-list\\todo-list.component.ts","D:\\projetos\\scoot\\app\\app-frontend\\src\\app\\components\\todo-list\\todo-list.component.html"],"sourcesContent":["import { AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Observable, async } from 'rxjs';\nimport { Item } from 'src/app/models/Item';\nimport { ItemService } from 'src/app/services/item/item.service';\nimport { TodoItemComponent } from './todo-item/todo-item.component';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { map, take, switchMap } from 'rxjs/operators';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\n\n@Component({\n  selector: 'app-todo-list',\n  templateUrl: './todo-list.component.html',\n  styleUrls: ['./todo-list.component.css'],\n})\nexport class TodoListComponent implements OnInit, AfterViewInit {\n  displayedColumns: string[] = [\n    'id',\n    'description',\n    'dueDate',\n    'priority',\n    'dtaCreatedAt',\n    'dtaUpdatedAt',\n    'actions',\n  ];\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n  dataSource = new MatTableDataSource<Item>([]);\n\n  itemForm: FormGroup = new FormGroup([]);\n  itens$: Observable<Item[]> = new Observable<Item[]>();\n\n  constructor(\n    private service: ItemService,\n    public dialog: MatDialog,\n    protected formBuilder: FormBuilder\n  ) {}\n  ngAfterViewInit(): void {\n    this.dataSource.paginator = this.paginator;\n  }\n\n  ngOnInit(): void {\n    this.service.getAll().subscribe((itens) => {\n      this.dataSource = new MatTableDataSource<Item>(itens);\n    });\n    this.initializeForm();\n  }\n\n  initializeForm() {\n    this.itemForm = this.formBuilder.group({\n      description: [null, Validators.required],\n      priority: [null, Validators.required],\n    });\n  }\n\n  openModal(id?: number) {\n    let dialogRef = this.dialog.open(TodoItemComponent, {\n      height: '400px',\n      width: '600px',\n      data: { id },\n    });\n    dialogRef.afterClosed().subscribe(() => {\n      this.itens$ = this.itens$.pipe(\n        map((itens) => {\n          return itens;\n        })\n      );\n    });\n  }\n  onSearch() {\n    const vf = this.itemForm.value;\n    this.service\n      .getAllByFilters(vf)\n      .subscribe(\n        (itens) => (this.dataSource = new MatTableDataSource<Item>(itens))\n      );\n  }\n  onDelete(id: number) {\n    this.service\n      .delete(id)\n      .subscribe(() =>\n        this.dataSource.data.fill(\n          this.dataSource.data.filter((i) => i.id !== id)\n        )\n      );\n  }\n}\n","<mat-card-title [ngStyle]=\"{ 'text-align': 'center' }\">\n  <h2>Todo list!</h2>\n</mat-card-title>\n<mat-card-content>\n  <mat-card>\n    <mat-card-title>\n      Filters\n      <button\n        mat-mini-fab\n        matTooltip=\"Add a new task\"\n        color=\"primary\"\n        [ngStyle]=\"{ float: 'right' }\"\n        (click)=\"openModal()\"\n      >\n        <mat-icon>plus_one</mat-icon>\n      </button>\n    </mat-card-title>\n    <mat-divider></mat-divider>\n    <mat-card-content>\n      <form [formGroup]=\"itemForm\">\n        <mat-form-field>\n          <mat-label>Description</mat-label>\n          <input formControlName=\"description\" matNativeControl />\n        </mat-form-field>\n        <mat-form-field>\n          <mat-label>Priority Level</mat-label>\n          <input formControlName=\"priority\" matNativeControl type=\"number\" />\n        </mat-form-field>\n        <button\n          mat-mini-fab\n          matTooltip=\"Search\"\n          color=\"primary\"\n          [ngStyle]=\"{ float: 'right' }\"\n          (click)=\"onSearch()\"\n        >\n          <mat-icon>search</mat-icon>\n        </button>\n      </form>\n    </mat-card-content>\n  </mat-card>\n  <mat-card>\n    <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\n      <ng-container matColumnDef=\"id\">\n        <th mat-header-cell *matHeaderCellDef>No.</th>\n        <td mat-cell *matCellDef=\"let element\">{{ element.id }}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"description\">\n        <th mat-header-cell *matHeaderCellDef>Description</th>\n        <td mat-cell *matCellDef=\"let element\">{{ element.description }}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"dueDate\">\n        <th mat-header-cell *matHeaderCellDef>Due Date</th>\n        <td mat-cell *matCellDef=\"let element\">{{ element.dueDate }}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"priority\">\n        <th mat-header-cell *matHeaderCellDef>Priority level</th>\n        <td mat-cell *matCellDef=\"let element\">{{ element.priority }}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"dtaCreatedAt\">\n        <th mat-header-cell *matHeaderCellDef>Create At</th>\n        <td mat-cell *matCellDef=\"let element\">{{ element.dtaCreatedAt }}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"dtaUpdatedAt\">\n        <th mat-header-cell *matHeaderCellDef>Last update</th>\n        <td mat-cell *matCellDef=\"let element\">{{ element.dtaUpdatedAt }}</td>\n      </ng-container>\n      <ng-container matColumnDef=\"actions\">\n        <th mat-header-cell *matHeaderCellDef>Actions</th>\n        <td mat-cell *matCellDef=\"let element\">\n          <button\n            flex\n            mat-mini-fab\n            matTooltip=\"Delete\"\n            color=\"accent\"\n            [ngStyle]=\"{ float: 'right' }\"\n            (click)=\"onDelete(element.id)\"\n          >\n            <mat-icon>delete</mat-icon>\n          </button>\n          <button\n            flex\n            mat-mini-fab\n            matTooltip=\"Edit\"\n            color=\"basic\"\n            [ngStyle]=\"{ float: 'right' }\"\n            (click)=\"openModal(element.id)\"\n          >\n            <mat-icon>edit</mat-icon>\n          </button>\n        </td>\n      </ng-container>\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n    </table>\n    <mat-paginator\n      [pageSizeOptions]=\"[5, 10, 20]\"\n      showFirstLastButtons\n      aria-label=\"Select page of periodic elements\"\n    >\n    </mat-paginator>\n  </mat-card>\n</mat-card-content>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}